{% extends '../base.htm' %}

{% block content %}
<style type="text/css">
  body{background:#EDEFF5;}
</style>
<div class="ce_reg">
  <div class="left">
    <div class="reg_left_title">
      <h1>30秒免费注册， 开启您的择友之旅~</h1>
    </div>
    <form method="post" action="/login/register/" name="register_form" id="register_form" class='register_form' enctype="multipart/form-data" />
    {% csrf_token %}
    <div class="form_box">
      <input type="hidden" value="" name="forward">
      <div class='reg_tips_center'>账号信息 带*号必填</div>
      <div id="div_email" class="form_li">
        <label><font color="red">*</font> 昵&#12288;&#12288;称：</label>
        <!-- <input type="text" name="username" id="username" class="w1" maxlength="16" onblur="ajax_user('username','tip_username');" />  <span id="tip_username"></span> -->
        <input type="text" name="username" id="username" onblur="checkname()" class="w1 username" maxlength="16" />  <span id="tip_username"></span>
        <br /><font color="#999999">长度3-16个字符，1个汉字=2个字符
        <br />格式由26个字母，数字，汉字，下横线，中横线组成。</font>
      </div>
      <div class="form_li">
        <label><font color="red">*</font> 登录密码：</label>
        <input type="password" name="password" id="password" class="w1" /> <font color="#999999">长度6-16个字符</font>
      </div>
      <div class="form_li">
        <label><font color="red">*</font> 确认密码：</label>
        <input type="password" name="confirmpassword" id="confirmpassword" class="w1" /> <font color="#999999"> 输入以上密码</font>
      </div>
      <div class="form_li">
        <label><font color="red">*</font> 登录邮箱：</label>
        <!-- <input type="text" name="email" id="email" class="w1" onblur="ajax_email('email','tip_email');" /> <font color="red">*</font> <span id="tip_email"><font color="#999999"> 请输入有效邮箱地址</font></span> -->
        <input type="text" name="email" id="email" onblur="checkemail()" class="w1 email"/> <font color="red">*</font> <span id="tip_email"><font color="#999999"> 请输入有效邮箱地址</font></span>
      </div>
      <div class="form_li">
        <label><font color="red">*</font> 验&nbsp;证&nbsp;码&nbsp;：</label>
        <input type="text" id="checkcode" name="checkcode" class='w2' autocomplete="off" onblur="ajax_checkcode();" maxlength='8' /> <img id="checkCodeImg" src="/login/verify/" align="middle" /> <a href="javascript:refreshCode();"> 换一张</a>  <span id="tip_checkcode"><font color="#999999">请输入验证码</font></span>
      </div>
            <div class='reg_tips_center'>基本信息 带*号必填</div>
        <div class="bitian">
          <div id="div_gender" class="form_li">
            <label><font color="red">*</font>  您的性别：</label>
            <input type='radio' name='gender' id='gender1' value='1' checked />男， <input type='radio' name='gender' id='gender2' value='2' />女 <span id='dgender' class='f_red'></span> <font color='#999999'>(一旦选择不能修改)</font>
          </div>
          <div id="div_birthday" class="form_li">
            <label><font color="red">*</font> 出生日期：</label>
            <select name='ageyear' id='ageyear'><option value=''>请选择</option><option value='2000'>2000</option><option value='1999'>1999</option><option value='1998'>1998</option><option value='1997'>1997</option><option value='1996'>1996</option><option value='1995'>1995</option><option value='1994'>1994</option><option value='1993'>1993</option><option value='1992'>1992</option><option value='1991'>1991</option><option value='1990'>1990</option><option value='1989'>1989</option><option value='1988'>1988</option><option value='1987'>1987</option><option value='1986'>1986</option><option value='1985'>1985</option><option value='1984'>1984</option><option value='1983'>1983</option><option value='1982'>1982</option><option value='1981'>1981</option><option value='1980'>1980</option><option value='1979'>1979</option><option value='1978'>1978</option><option value='1977'>1977</option><option value='1976'>1976</option><option value='1975'>1975</option><option value='1974'>1974</option><option value='1973'>1973</option><option value='1972'>1972</option><option value='1971'>1971</option><option value='1970'>1970</option><option value='1969'>1969</option><option value='1968'>1968</option><option value='1967'>1967</option><option value='1966'>1966</option><option value='1965'>1965</option><option value='1964'>1964</option><option value='1963'>1963</option><option value='1962'>1962</option><option value='1961'>1961</option><option value='1960'>1960</option><option value='1959'>1959</option><option value='1958'>1958</option></select>年
            <select name='agemonth' id='agemonth'><option value=''>请选择</option><option value='1'>1</option><option value='2'>2</option><option value='3'>3</option><option value='4'>4</option><option value='5'>5</option><option value='6'>6</option><option value='7'>7</option><option value='8'>8</option><option value='9'>9</option><option value='10'>10</option><option value='11'>11</option><option value='12'>12</option></select>月
			<select name='ageday' id='ageday'><option value=''>请选择</option><option value='1'>1</option><option value='2'>2</option><option value='3'>3</option><option value='4'>4</option><option value='5'>5</option><option value='6'>6</option><option value='7'>7</option><option value='8'>8</option><option value='9'>9</option><option value='10'>10</option><option value='11'>11</option><option value='12'>12</option><option value='13'>13</option><option value='14'>14</option><option value='15'>15</option><option value='16'>16</option><option value='17'>17</option><option value='18'>18</option><option value='19'>19</option><option value='20'>20</option><option value='21'>21</option><option value='22'>22</option><option value='23'>23</option><option value='24'>24</option><option value='25'>25</option><option value='26'>26</option><option value='27'>27</option><option value='28'>28</option><option value='29'>29</option><option value='30'>30</option><option value='31'>31</option></select>日
            <font color='#999999'>(一旦选择不能修改)</font>
          </div>
          <div id="div_marriage" class="form_li">
            <label><font color="red">*</font>  婚姻状况：</label>
            <select name='marrystatus' id='marrystatus'><option value=''>=请选择=</option><option value='1'>未婚</option><option value='2'>已婚</option><option value='3'>离异</option><option value='4'>丧偶</option></select>
            <font color='#999999'>(一旦选择不能修改)</font>
          </div>
          <div id="div_height" class="form_li">
            <label><font color="red">*</font>  身&#12288;&#12288;高：</label>
            <select name='height' id='height'><option value=''>=请选择=</option><option value='130'>130</option><option value='131'>131</option><option value='132'>132</option><option value='133'>133</option><option value='134'>134</option><option value='135'>135</option><option value='136'>136</option><option value='137'>137</option><option value='138'>138</option><option value='139'>139</option><option value='140'>140</option><option value='141'>141</option><option value='142'>142</option><option value='143'>143</option><option value='144'>144</option><option value='145'>145</option><option value='146'>146</option><option value='147'>147</option><option value='148'>148</option><option value='149'>149</option><option value='150'>150</option><option value='151'>151</option><option value='152'>152</option><option value='153'>153</option><option value='154'>154</option><option value='155'>155</option><option value='156'>156</option><option value='157'>157</option><option value='158'>158</option><option value='159'>159</option><option value='160' selected>160</option><option value='161'>161</option><option value='162'>162</option><option value='163'>163</option><option value='164'>164</option><option value='165'>165</option><option value='166'>166</option><option value='167'>167</option><option value='168'>168</option><option value='169'>169</option><option value='170'>170</option><option value='171'>171</option><option value='172'>172</option><option value='173'>173</option><option value='174'>174</option><option value='175'>175</option><option value='176'>176</option><option value='177'>177</option><option value='178'>178</option><option value='179'>179</option><option value='180'>180</option><option value='181'>181</option><option value='182'>182</option><option value='183'>183</option><option value='184'>184</option><option value='185'>185</option><option value='186'>186</option><option value='187'>187</option><option value='188'>188</option><option value='189'>189</option><option value='190'>190</option><option value='191'>191</option><option value='192'>192</option><option value='193'>193</option><option value='194'>194</option><option value='195'>195</option><option value='196'>196</option><option value='197'>197</option><option value='198'>198</option><option value='199'>199</option><option value='200'>200</option></select> CM <font color='#999999'>(一旦选择不能修改)</font>
          </div>
          <div id="div_workCity" class="form_li form_city">
            <label><font color="red">*</font>  所在地区：</label>
            <!-- <select name='provinceid' id='provinceid'><option value=''>=请选择=</option><option value='9'>广东</option><option value='33'>江苏</option><option value='57'>浙江</option><option value='85'>福建</option><option value='98'>湖南</option><option value='122'>湖北</option><option value='152'>山东</option><option value='177'>辽宁</option><option value='198'>吉林</option><option value='218'>云南</option><option value='233'>四川</option><option value='252'>安徽</option><option value='271'>江西</option><option value='286'>黑龙江</option><option value='306'>河北</option><option value='326'>陕西</option><option value='336'>海南</option><option value='342'>河南</option><option value='362'>山西</option><option value='374'>内蒙古</option><option value='392'>广西</option><option value='405'>贵州</option><option value='416'>宁夏</option><option value='421'>青海</option><option value='427'>新疆</option><option value='445'>西藏</option><option value='449'>甘肃</option><option value='463'>台湾</option><option value='469'>香港</option><option value='471'>澳门</option><option value='473'>国外</option><option value='475'>其他</option></select>&nbsp;<span id='dprovinceid' class='f_red'></span> -->
            <select name='provinceid' id='provinceid'><option value=''>=请选择=</option><option value='广东'>广东</option><option value='江苏'>江苏</option><option value='浙江'>浙江</option><option value='福建'>福建</option><option value='湖南'>湖南</option><option value='湖北'>湖北</option><option value='山东'>山东</option><option value='辽宁'>辽宁</option><option value='吉林'>吉林</option><option value='云南'>云南</option><option value='四川'>四川</option><option value='安徽'>安徽</option><option value='江西'>江西</option><option value='黑龙江'>黑龙江</option><option value='河北'>河北</option><option value='陕西'>陕西</option><option value='海南'>海南</option><option value='河南'>河南</option><option value='山西'>山西</option><option value='内蒙古'>内蒙古</option><option value='广西'>广西</option><option value='贵州'>贵州</option><option value='宁夏'>宁夏</option><option value='青海'>青海</option><option value='新疆'>新疆</option><option value='西藏'>西藏</option><option value='甘肃'>甘肃</option><option value='台湾'>台湾</option><option value='香港'>香港</option><option value='澳门'>澳门</option><option value='国外'>国外</option><option value='其他'>其他</option></select>&nbsp;<span id='dprovinceid' class='f_red'></span>
				<span id="json_cityid"></span>&nbsp;
				<span id="json_distid"></span>
			</div>
						<div id="div_salary" class="form_li">
              <label><font color="red"></font>  月薪收入：</label>
              <select name='salary' id='salary'><option value=''>=请选择=</option><option value='1'>2000元以下</option><option value='2'>2000~5000元</option><option value='3'>5000~10000元</option><option value='4'>10000~20000元</option><option value='5'>20000元以上</option></select>
            </div>
						            <div id="div_weigth" class="form_li">
              <label><font color="red"></font>  体&#12288;&#12288;重：</label>
              <select name='weight' id='weight'><option value=''>=请选择=</option><option value='30'>30</option><option value='31'>31</option><option value='32'>32</option><option value='33'>33</option><option value='34'>34</option><option value='35'>35</option><option value='36'>36</option><option value='37'>37</option><option value='38'>38</option><option value='39'>39</option><option value='40'>40</option><option value='41'>41</option><option value='42'>42</option><option value='43'>43</option><option value='44'>44</option><option value='45'>45</option><option value='46'>46</option><option value='47'>47</option><option value='48'>48</option><option value='49'>49</option><option value='50' selected>50</option><option value='51'>51</option><option value='52'>52</option><option value='53'>53</option><option value='54'>54</option><option value='55'>55</option><option value='56'>56</option><option value='57'>57</option><option value='58'>58</option><option value='59'>59</option><option value='60'>60</option><option value='61'>61</option><option value='62'>62</option><option value='63'>63</option><option value='64'>64</option><option value='65'>65</option><option value='66'>66</option><option value='67'>67</option><option value='68'>68</option><option value='69'>69</option><option value='70'>70</option><option value='71'>71</option><option value='72'>72</option><option value='73'>73</option><option value='74'>74</option><option value='75'>75</option><option value='76'>76</option><option value='77'>77</option><option value='78'>78</option><option value='79'>79</option><option value='80'>80</option><option value='81'>81</option><option value='82'>82</option><option value='83'>83</option><option value='84'>84</option><option value='85'>85</option><option value='86'>86</option><option value='87'>87</option><option value='88'>88</option><option value='89'>89</option><option value='90'>90</option><option value='91'>91</option><option value='92'>92</option><option value='93'>93</option><option value='94'>94</option><option value='95'>95</option><option value='96'>96</option><option value='97'>97</option><option value='98'>98</option><option value='99'>99</option><option value='100'>100</option><option value='101'>101</option><option value='102'>102</option><option value='103'>103</option><option value='104'>104</option><option value='105'>105</option><option value='106'>106</option><option value='107'>107</option><option value='108'>108</option><option value='109'>109</option><option value='110'>110</option><option value='111'>111</option><option value='112'>112</option><option value='113'>113</option><option value='114'>114</option><option value='115'>115</option><option value='116'>116</option><option value='117'>117</option><option value='118'>118</option><option value='119'>119</option><option value='120'>120</option><option value='121'>121</option><option value='122'>122</option><option value='123'>123</option><option value='124'>124</option><option value='125'>125</option><option value='126'>126</option><option value='127'>127</option><option value='128'>128</option><option value='129'>129</option><option value='130'>130</option><option value='131'>131</option><option value='132'>132</option><option value='133'>133</option><option value='134'>134</option><option value='135'>135</option><option value='136'>136</option><option value='137'>137</option><option value='138'>138</option><option value='139'>139</option><option value='140'>140</option><option value='141'>141</option><option value='142'>142</option><option value='143'>143</option><option value='144'>144</option><option value='145'>145</option><option value='146'>146</option><option value='147'>147</option><option value='148'>148</option><option value='149'>149</option><option value='150'>150</option></select> KG
            </div>
			
		                <div id="div_mobile" class="form_li">
              <label><font color="red">*</font>  手机号码：</label>
              <input type="text" name="mobile" id="mobile" class="w1" /> <span id='dmobile' class='f_red'></span> <font color='#999999'>(接收网站短信用)</font>
            </div>
          </div>

          <div class="form_li">
            <div class="serve_text">
              <input type="checkbox" name='agree' id='agree' value='true' />
              <em>已阅读和同意 <a href="/index/disclaimer/" target="_blank">注册条款</a> 和 <a href="/index/privacyprotect/" target="_blank">隐私政策</a></em>
            </div>
            <div class="tijiao"> 
              <button class="button_register_s1" style="pointer:hand;" type='button' onclick="return checkreg();">免费注册</button>
  			    </div>
          </div>
        </div>
      </form>
    </div>
    <div class="right"> 
	  <a class="login" href="/login/login">已有帐号？ 点此登录&gt;&gt;</a>
            <ul class="list">
        <li class="first"> 
		  <span class="ico ico-pro"></span>
          <div class="info">
            <h4>高素质、诚信的交友会员</h4>
            <p>面向渴望爱情婚姻的单身人士</p>
            <p>需提交详细资料和身份证件</p>
            <p>专业的人工审核跟进</p>
          </div>
        </li>
        <li> 
		  <span class="ico ico-date"></span>
          <div class="info">
            <h4>以“约会”为主导交友模式</h4>
            <p>自主定制约会，挑选约会对象</p>
            <p>通过约会观察</p>
            <p>直接快速判断是否适合交往</p>
          </div>
        </li>
        <li> 
		  <span class="ico ico-secu"></span>
          <div class="info">
            <h4>安全的交友平台</h4>
            <p>涉及隐私的资料都被保密</p>
            <p>约会双方必须验证联系方式</p>
            <p>成功后由网站代为交换</p>
          </div>
        </li>
        <div style="clear:both;"></div>
      </ul>

    </div>
    <div style="clear:both;"></div>
  </div>
{% endblock %}
<!--<div class="oe_footer">
  <div class="oe_footercon">
    <div class="er">
      <h3>微信扫一扫下载APP</h3>
      <img src="/app.png" width="120px" />
    </div>
    <div class="fast">
      <h3>快速链接</h3>
      <ul>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=1">网站介绍</a></li>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=2">郑重承诺</a></li>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=4">联系我们</a></li>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=22">高薪招聘</a></li>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=5">免责申明</a></li>
        <li><a rel="nofollow" href="/index.php?c=about&a=detail&id=6">交友须知</a></li>
        <li><a href="/index.php?c=blackuser">黑名单</a></li>
        <li><a rel="nofollow" f="but_safety_addto" style="cursor:pointer;"  onclick="artbox_loginbox();"><i></i>投诉/举报</a></li>
        <li><a rel="nofollow" href="/index.php">返回首页</a></li>
      </ul>
    </div>
    <div class="right">
      <h3>会员服务</h3>
      郑州美人鱼信息技术有限公司版权所有 &copy; 2015-<span id="footer-copyright-year">2018</span>
	  <br/>
	  	  <a href="http://www.miitbeian.gov.cn/" target="_blank">豫ICP备18004738号</a>
	  	        <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_5179333'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/stat.php%3Fid%3D5179333%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
    </div>
    <div class="clear"></div>
  </div>
</div>-->

{% block footer_script %}
<script type='text/javascript'>
//WAP提醒
$(function(){
    var x = 10;  
    var y = 20;
    $("a.waptips").mouseover(function(e){
           this.myTitle = this.title;
        this.title = "";    
        var tooltip = "<div id='waptips'>"+ this.myTitle +"<\/div>"; //创建 div 元素
        $("body").append(tooltip);    //把它追加到文档中
        $("#waptips")
            .css({
                "top": (e.pageY+y) + "px",
                "left": (e.pageX+x)  + "px"
            }).show("fast");      //设置x坐标和y坐标，并且显示
    }).mouseout(function(){        
        this.title = this.myTitle;
        $("#waptips").remove();   //移除 
    }).mousemove(function(e){
        $("#waptips")
            .css({
                "top": (e.pageY+y) + "px",
                "left": (e.pageX+x)  + "px"
            });
    });
})

jQuery(".drop").slide({ type:"menu", titCell:".cin", targetCell:".sub",effect:"slideDown",delayTime:300,triggerTime:0,defaultPlay:false,returnDefault:true});

</script>

<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"slide":{"type":"slide","bdImg":"7","bdPos":"right","bdTop":"100"},"image":{"viewList":["qzone","tsina","tqq","renren","weixin"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["qzone","tsina","tqq","renren","weixin"]}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script>
</body>
</html>
<script language="javascript">
function checkname() {
  username = $('.username').val();
  if(username.length == 0) {
    return; 
  }
  $.ajax({
    type: 'get',
    url: '/login/checkUserName/',
    cache: false,
    contentType: 'application/json;charset=utf-8',
    data: {'username':username},
    success: function(res) {
      if(res.res) {
        $('#tip_username').css('color', 'red').text('用户名已经被使用了！');
        return;
      } else {
        $('#tip_username').css('color', 'green').text('用户可以使用！');
        return;
      }
    }
  });
}

function checkemail() {
  email = $('.email').val();
  if(email.length == 0) {
    return;
  }
  $.ajax({
    type: 'get',
    url: '/login/checkEmail/',
    cache: false,
    contentType: 'appliction/json;charset=utf-8',
    data: {'email':email},
    success: function(res) {
      if(res.res) {
        $('#tip_email').css('color', 'red').text('该邮箱已经被使用了！');
        return;
      } else {
        $('#tip_email').css('color', 'green').text('该邮箱可以使用！');
        return;
      }
    }
  });
}


function checkreg(){
  var t = "";
  var v = "";
  
  t = "username";
  v = $("#"+t).val();
  if(v=="") {
    alert("用户名不能为空");
    $('#'+t).focus();
    return false;
  }

  t = "password";
  v = $("#"+t).val();
  if(v=="") {
    alert("密码不能为空");
    $('#'+t).focus();
    return false;
  }
  else {
    if(v.length<6) {
      alert('密码长度不对');
      $('#'+t).focus();
      return false;
    }

    if($('#confirmpassword').val() != v) {
      alert("确认密码不正确");
      $('#confirmpassword').focus();
      return false;
    }
  }

  t = "email";
  v = $("#"+t).val();
  if(v=="") {
    alert("邮箱不能为空");
    $('#'+t).focus();
    return false;
  }

    t = "checkcode";
  v = $("#"+t).val();
  if(v=="") {
    alert("验证码不能为空");
    $('#'+t).focus();
    return false;
  }


  t = "email";
  v = $("#"+t).val();
  if(v=="") {
    alert("邮箱不能为空");
    $('#'+t).focus();
    return false;
  }

  t = "ageyear";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择生日年份");
    $('#'+t).focus();
    return false;
  }

  t = "agemonth";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择生日月份");
    $('#'+t).focus();
    return false;
  }

  t = "ageday";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择生日日期");
    $('#'+t).focus();
    return false;
  }

  t = "marrystatus";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择婚姻状况");
    $('#'+t).focus();
    return false;
  }

  t = "education";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择学历");
    $('#'+t).focus();
    return false;
  }

  t = "height";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择身高");
    $('#'+t).focus();
    return false;
  }

  t = "provinceid";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择所在地区");
    $('#'+t).focus();
    return false;
  }

  t = "cityid";
  v = $("#"+t).val();
  if(v=="") {
    alert("请选择所在地区");
    $('#'+t).focus();
    return false;
  }

  //联系方式
  t = "mobile";
  v = $("#"+t).val();
  if(v == "") {
    alert("请填写手机号码");
    $('#'+t).focus();
    return false;
  }
  else {
    if (!isMobile(v)) {
      alert('手机号码不正确！');
      $('#'+t).focus();
      return false;
    }
  }

  //选择同意
  if ($("input[name=agree]:checked").val() != 'true') {
    alert('请同意注册条款和隐私政策');
    return false;
  }

  $('.register_form').submit();
  // $('.register_form').click(function() {
  //   alert('hello');
  // });
  return true;
}

//验证码
function refreshCode(tipsid) {
    $("#checkCodeImg").attr("src", "/login/verify/"+Math.random());
}
$("#checkCodeImg").click(function() {
    $("#checkCodeImg").attr("src", "/login/verify/"+Math.random());
});

//验证验证码
function ajax_checkcode() {
  checkcode = $('#checkcode').val()
  $.ajax({
    type: 'GET',
    url: '/login/checkCode/',
    cache: false,
    data: {checkcode:checkcode},
    dataType: 'json',
    success:function(res){
      if(res.res) {
        return true; 
      } else {
        alert('验证码错误！');
        return false;
      }
    }
  });
}
</script>
{% endblock %}